{"openapi":"3.0.1","info":{"title":"Smartization indexer API","description":"API serving infromation for indexer frontend","version":"1.0.0"},"servers":[{"url":"http://localhost:8080/api","description":"Generated server url"}],"paths":{"/items/{id}":{"get":{"tags":["item-controller"],"summary":"Returns single entity pointed by it id","operationId":"getById","parameters":[{"name":"id","in":"path","description":"item id to resolve","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}}}}},"put":{"tags":["item-controller"],"summary":"Update single item","operationId":"put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}}}}},"delete":{"tags":["item-controller"],"summary":"Delete single item pointed by its id","operationId":"delete_1","parameters":[{"name":"id","in":"path","description":"item description","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK"}}}},"/places/":{"get":{"tags":["place-controller"],"summary":"Get all available places","operationId":"getAll","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PlaceDTO"}}}}}}},"post":{"tags":["place-controller"],"summary":"Add one place","operationId":"post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlaceDTO"}}}}}}},"/items/":{"get":{"tags":["item-controller"],"summary":"Returns all possible items","operationId":"get_1","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemDTO"}}}}}}},"post":{"tags":["item-controller"],"summary":"Post single item into indexer","operationId":"post_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}}}}}},"/places/{placeId}/delete/item/{itemId}":{"patch":{"tags":["place-controller"],"summary":"Delete single item from given place","operationId":"removeItem","parameters":[{"name":"placeId","in":"path","description":"Place from which item will be deleted","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"itemId","in":"path","description":"Item which will be deleted","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlaceDTO"}}}}}}},"/places/{placeId}/add/item/{itemId}":{"patch":{"tags":["place-controller"],"summary":"Add single item into given place","operationId":"addItem","parameters":[{"name":"placeId","in":"path","description":"Place to which item will be added","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"itemId","in":"path","description":"Item which will be added","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlaceDTO"}}}}}}},"/items/{id}/remove/one":{"patch":{"tags":["item-controller"],"summary":"Remove one item if possible","operationId":"removeOneItem","parameters":[{"name":"id","in":"path","description":"item id to resolve","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}}}}}},"/items/{id}/enable/quantity":{"patch":{"tags":["item-controller"],"summary":"Enable quantity for item","operationId":"enableItemQuantity","parameters":[{"name":"id","in":"path","description":"item id to resolve","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}}}}}},"/items/{id}/disable/quantity":{"patch":{"tags":["item-controller"],"summary":"Disable quantity for item","operationId":"disableItemQuantity","parameters":[{"name":"id","in":"path","description":"item id to resolve","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}}}}}},"/items/{id}/add/one":{"patch":{"tags":["item-controller"],"summary":"Add one item if possible","operationId":"addOneItem","parameters":[{"name":"id","in":"path","description":"item id to resolve","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}}}}}},"/firebase/token/{oldToken}/update/{newToken}":{"patch":{"tags":["firebase-controller"],"summary":"Update firebase token","operationId":"updateToken","parameters":[{"name":"oldToken","in":"path","description":"old token","required":true,"schema":{"type":"string"}},{"name":"newToken","in":"path","description":"new token","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/places/{placeId}/count":{"get":{"tags":["place-controller"],"summary":"Count items in given place","operationId":"countItems","parameters":[{"name":"placeId","in":"path","description":"Place from which item will be counted","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/places/{id}":{"get":{"tags":["place-controller"],"summary":"Get one place pointed by id","operationId":"get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PlaceDTO"}}}}}},"delete":{"tags":["place-controller"],"summary":"Delete one place pointed by give id","operationId":"delete","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK"}}}},"/items/onPlace/{placeId}":{"get":{"tags":["item-controller"],"summary":"Returns all items on place","operationId":"getItemsOnPlace","parameters":[{"name":"placeId","in":"path","description":"place id to resolve","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemDTO"}}}}}}}},"/barcodes/{barcode}":{"get":{"tags":["barcode-controller"],"summary":"Resolve single barcode","description":"For single barcode it will try to resolve via google service","operationId":"fetch","parameters":[{"name":"barcode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BarcodeDTO"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int64"},"status":{"type":"integer","format":"int64"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"}}},"ItemDTO":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","description":"Internal identifier of item","format":"int64","example":1},"name":{"type":"string","description":"Name of otem","example":"nutella"},"description":{"type":"string","description":"Item description","nullable":true,"example":"s≈Çoik nutelli"},"barcode":{"type":"string","description":"Numeric or textual barcode of item","example":"8000500179864"},"barcodeType":{"type":"string","description":"Type of barcode like EAN16","example":"EAN","enum":["EAN"]},"storagePlace":{"$ref":"#/components/schemas/PlaceDTO"},"dueDate":{"type":"string","description":"Due date of item","format":"date","nullable":true,"example":"2022-07-07"},"quantity":{"type":"integer","description":"Quantity of items","format":"int32","nullable":true,"example":1}}},"PlaceDTO":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","description":"Internal place identifier","format":"int64","example":1},"name":{"type":"string","description":"Place name","example":"Home"}},"description":"Location in which item is hold","nullable":true},"BarcodeDTO":{"type":"object","properties":{"title":{"type":"string","description":"Contains item title obtained from resolving api","example":"Chusteczki higieniczne 2-warstwowe 150 sztuk"},"value":{"type":"string","description":"Barcode numeric or textual value","example":"4337185324246"},"searchResult":{"type":"string","description":"Result of searching in external api","example":"cached"},"processingTime":{"type":"string","description":"Time when barcode was resolved","format":"date-time"},"link":{"type":"string","description":"Site from which barcode was resolved","format":"url","example":"https://archiwum.allegro.pl/oferta/chusteczki-higieniczne-2-warstwowe-150-sztuk-i9179356701.html"}}}}}}